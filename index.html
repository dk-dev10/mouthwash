<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mouthwash</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <div class="site-logo">mouthwash</div>
      <div class="navbar">
        <div class="site-info">films / photos</div>
        <div class="site-menu">
          <div class="menu-item">projects</div>
          <div class="menu-item">about</div>
          <div class="menu-item">contact</div>
        </div>
      </div>
      <div class="header">
        <div class="header-left">
          elevated <br /><span>reality</span>
          <div class="link">
            <a href="">view showreel</a>
          </div>
        </div>
        <div class="header-right">/ all projects</div>
      </div>
      <div class="container">
        <div class="container-items">
          <div class="container-img-wrap">
            <div class="container-img"></div>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-one.jpeg">
              <h3>1</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-two.jpeg">
              <h3>2</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-three.jpeg">
              <h3>3</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-four.jpeg">
              <h3>4</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-five.jpeg">
              <h3>5</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-six.jpeg">
              <h3>6</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-seven.jpeg">
              <h3>7</h3>
            </a>
          </div>
          <div class="item">
            <a class="container-item" data-img="image-eight.jpeg">
              <h3>8</h3>
            </a>
          </div>
        </div>
      </div>
    </div>

    <script>
      const allcontainer = gsap.utils.toArray('.container-item');
      const venueImageWrap = document.querySelector('.container-img-wrap');
      const venueImg = document.querySelectorAll('.container-img');

      function initContainer() {
        allcontainer.forEach((link) => {
          link.addEventListener('mouseenter', venueHover);
          link.addEventListener('mouseleave', venueHover);
          link.addEventListener('mousemove', moveVenueImage);
        });
      }

      function moveVenueImage(e) {
        let xpos = e.clientX;
        let ypos = e.clientY;
        const tl = gsap.timeline();
        tl.to(venueImageWrap, {
          x: xpos + 30,
          y: ypos - 150,
        });
      }

      function venueHover(e) {
        if (e.type === 'mouseenter') {
          const targetImg = e.target.dataset.img;

          const tl = gsap.timeline();
          tl.set(venueImg, {
            backgroundImage: `url(/imgs/${targetImg})`,
          }).to(venueImageWrap, {
            duration: 0.5,
            autoAlpha: 1,
          });
        } else if (e.type === 'mouseleave') {
          const tl = gsap.timeline();
          tl.to(venueImageWrap, {
            duration: 0.5,
            autoAlpha: 0,
          });
        }
      }

      function init() {
        initContainer();
      }

      window.addEventListener('load', init);
    </script>
  </body>
</html>
